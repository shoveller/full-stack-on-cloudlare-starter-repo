WEBVTT
X-TIMESTAMP-MAP=LOCAL:00:00:00.000,MPEGTS:900000

00:00:00.000 --> 00:00:05.470
Cloudflare에 배포하는 것은 사실 꽤 간단합니다. 무료 Cloudflare 계정을 만들기만 하면 이 페이지로 이동하게 됩니다.

00:00:05.790 --> 00:00:14.230
Cloudflare는 수년 동안 존재해 왔으며 DNS, CDN 및 보안 기능으로 잘 알려져 있어 제공하는 기능이 정말 많습니다.

00:00:14.230 --> 00:00:23.430
하지만 지난 5년 동안 COMPUTE를 위한 워커 플랫폼이 정말로 큰 인기를 얻었으며, 우리는 대부분의 시간을 바로 이 아래 섹션에서 보낼 것입니다.

00:00:23.430 --> 00:00:28.642
여기를 스크롤해 보면 COMPUTE 워커가 있고 그 아래에는 다양한 제품들이 있습니다.

00:00:29.652 --> 00:00:36.772
지금 당장 우리가 집중할 주요 사항은 워커와 페이지입니다. 배포하는 방법은 여러 가지가 있으며 이 강좌에서 그 중 많은 방법을 다룰 것입니다.

00:00:36.772 --> 00:00:47.038
하지만 시작하기 위해 CLI를 사용할 것입니다. 이제 우리 리포지토리로 돌아가서 앱 사용자 애플리케이션으로 이동하겠습니다. 이것이 우리가 방금 실행한 UI 애플리케이션입니다.

00:00:47.198 --> 00:00:56.718
그리고 맨 아래로 가서 Wrangler JSON C를 봅시다. 자, 이 파일은 Cloudflare에 우리 코드를 배포하는 방법을 지시하는 구성 파일입니다.

00:00:56.958 --> 01:07.448
이것은 Cloudflare에게 우리 애플리케이션의 진입점이 정확히 어디인지 알려줍니다. 또한 Cloudflare가 내부적으로 애플리케이션의 고유성을 추적하는 데 사용할 이름을 애플리케이션에 부여합니다.

01:07.768 --> 01:18.658
그리고 다른 여러 구성들이 있습니다. 이것은 매우 작은 Wrangler 파일이지만, 우리가 더 많은 기능을 구축하고 더 많은 리소스를 사용함에 따라 이 파일이 실제로 매우 커지는 것을 보게 될 것입니다.

01:18.818 --> 01:28.358
그래서 Wrangler JSON C 파일에는 정말 많은 복잡성이 있습니다. Cloudflare가 제공하는 기능은 매우 많으며, 그 모든 것은 우리가 이 파일에 지정하는 내용에 따라 결정됩니다.

01:28.358 --> 01:47.778
따라서 이 강좌 전체에 걸쳐 다양한 제공 사항과 Wrangler JSON C 파일 사용법을 깊이 파고들 것입니다. 그리고 강좌가 끝날 때쯤에는 새로운 것을 구축하거나 새로운 Cloudflare 제품을 사용할 때 문서를 살펴보고, 문서를 너무 깊이 파고들거나 너무 애쓰지 않고도 다양한 기능을 원활하게 배우고 사용할 수 있게 되기를 바랍니다.

01:47.858 --> 01:58.408
그러니 참고로, 이 배포의 목적, 즉 우리의 첫 번째 배포를 위해 이 파일은 Cloudflare에게 우리 코드가 무엇인지, 어떻게 사용하는지, 그리고 어떻게 배포하는지를 알려줍니다.

01:58.888 --> 02:12.848
이제 package.json 파일로 가보면, `NPM run build`를 실행하는 배포 스크립트가 있는 것을 볼 수 있습니다. 이것은 우리 프로젝트를 빌드하고, Cloudflare 워커가 이해할 수 있는 방식으로 컴파일하고 번들링합니다.

02:13.168 --> 02:27.028
그리고 나서 Wrangler Deploy를 실행합니다. 이 Wrangler 종속성은 우리 개발 종속성의 맨 아래에서 볼 수 있습니다. 이것은 Cloudflare 리소스와 배포를 관리하는 Cloudflare CLI 도구입니다.

02:27.668 --> 02:42.539
이것은 솔직히 Cloudflare에서 작업할 때 매우 중요한 CLI 도구이며, 더 많은 기능을 사용하면서 무엇을 할 수 있는지 배우게 될 것입니다. 하지만 90%의 경우 Wrangler를 사용하는 유일한 목적은 애플리케이션을 배포하는 것입니다.

02:42.699 --> 02:56.684
그래서 우리가 할 일은 사용자 애플리케이션 폴더에 있는지 확인하는 것입니다. 앱 사용자 애플리케이션으로 이동한 다음 바로 여기 있는 이 명령인 `pnpm run deploy`를 실행할 것입니다.

02:56.922 --> 03:09.690
그러면 우리 애플리케이션이 빌드되고, 전체 프론트엔드 애플리케이션의 번들이 생성되는 것을 보게 될 것입니다. 그리고 처음 실행하면 Chrome 브라우저가 열립니다. 여기로 가져와 보겠습니다.

03:09.690 --> 03:18.602
기본적으로 권한을 요청하는 브라우저가 열립니다. 이 브라우저에서 '허용'을 클릭하면 됩니다. 이렇게 하면 Wrangler CLI가 Cloudflare 계정에 액세스할 수 있게 됩니다.

03:19.102 --> 03:37.182
이제 여기로 돌아오면 빌드가 완료되는 것을 볼 수 있으며, 지금은 번들된 모든 파일을 가져와 Cloudflare 서버에 업로드하고 있습니다. 정적 파일, JS 파일, HTML, 스타일을 업로드하고 있으며, 전 세계 서버의 CDN에 업로드하여 사용자에게 매우 빠르게 제공될 수 있도록 합니다.

03:37.262 --> 03:44.146
그리고 서버 측 코드도 업로드하고 있습니다. 따라서 워커 런타임이 우리 애플리케이션의 HTTP 요청을 처리할 수 있게 됩니다.

03:44.926 --> 03:57.816
여기서 주목할 점은 이 URL을 제공했다는 것입니다. 이 URL은 기본적으로 Cloudflare Workers Dev에 가입할 때 사용한 이메일이나 이름 같은 것을 가지고 있고, 그 다음에 우리 서비스의 이름인 사용자 애플리케이션을 볼 수 있습니다.

03:58.056 --> 04:07.776
그래서 이걸 열어보겠습니다. 이걸 복사해서 아까 그 브라우저 창으로 돌아가면, 실제로 배포된 버전의 웹사이트를 볼 수 있습니다.

04:08.376 --> 04:28.376
대시보드로 이동하면 상호작용이 가능하고 모든 것이 예상대로 작동하는 것을 볼 수 있습니다. 배포는 정말 그렇게 간단합니다. 제가 많은 것을 설명했지만, 핵심은 `npm run Deploy`를 실행하면 Wrangler Deploy 명령이 호출되고 모든 정적 자산과 서버 측 코드를 Cloudflare 서버에 업로드하여 워커 런타임에서 사용할 수 있게 된다는 것입니다.

04:28.726 --> 04:38.876
또 한 가지 주목할 점은 여기 Cloudflare 대시보드의 워커 및 페이지로 돌아가면 이 애플리케이션의 항목을 볼 수 있고, 클릭하면 여기에 많은 것들이 있다는 것입니다.

04:39.576 --> 04:49.136
배포가 언제 발생했는지 확인하세요. 사용량에 대한 측정항목을 볼 수 있습니다. 따라서 요청이 있을 때마다 여기에서 분석, 하위 요청을 볼 수 있습니다. 오류 추적도 볼 수 있습니다.

04:49.906 --> 05:01.070
Wrangler 구성 내에서 관찰 가능성을 활성화했으므로 로그가 들어오는 것을 볼 수 있습니다. 요청이 있을 때마다 바인딩을 볼 수 있습니다.

05:01.150 --> 05:11.978
이것은 나중에 다루겠지만, 기본적으로 우리 애플리케이션 번들의 정적 파일, JavaScript 파일, HTML 파일인 자산 바인딩이 있고, 그 다음에는 설정이 있습니다.

05:11.978 --> 05:23.078
그리고 우리는 강좌 전체에 걸쳐 이러한 다양한 것들을 매우 깊이 파고들 것입니다. 하지만 Cloudflare에서 제공하는 UI를 사용하고 싶다면 이것이 우리가 상호 작용할 수 있는 인터페이스라는 점을 알아두세요.

05:23.078 --> 05:31.848
이제 이 모든 것은 방금 살펴본 Wrangler CLI를 통해서도 관리할 수 있습니다. 하지만 매우 자주 대시보드로 와서 애플리케이션을 찾고 여기에서 것들을 관리할 수 있습니다.

05:31.988 --> 05:38.668
또 다른 참고 사항은 도메인과 경로입니다. 강좌 막바지에 우리 자신의 도메인을 연결할 수 있게 될 것입니다.

05:38.668 --> 05:49.548
이것이 배포 프로세스입니다. 전체 강좌를 통해 이 과정에 매우 익숙해질 것입니다. 하지만 이 시점에는 애플리케이션의 배포된 버전을 바로 사용할 수 있어야 합니다.